

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>@aws-cdk/app-delivery &mdash; AWS Cloud Development Kit</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/sphinx_tabs/tabs.css" type="text/css" />
  <link rel="stylesheet" href="../_static/sphinx_tabs/semantic-ui-2.2.10/segment.min.css" type="text/css" />
  <link rel="stylesheet" href="../_static/sphinx_tabs/semantic-ui-2.2.10/menu.min.css" type="text/css" />
  <link rel="stylesheet" href="../_static/sphinx_tabs/semantic-ui-2.2.10/tab.min.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="@aws-cdk/assets" href="_aws-cdk_assets.html" />
    <link rel="prev" title="@aws-cdk/alexa-ask" href="_aws-cdk_alexa-ask.html" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> AWS Cloud Development Kit
          

          
          </a>

          
            
            
              <div class="version">
                0.23.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../getting-started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../concepts.html">Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../aws-construct-lib.html">AWS Construct Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cloudformation.html">AWS CloudFormation Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools.html">Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../writing-constructs.html">Writing Constructs</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../reference.html">Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="_aws-cdk_alexa-ask.html">&#64;aws-cdk/alexa-ask</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">&#64;aws-cdk/app-delivery</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#continuous-integration-continuous-delivery-for-cdk-applications">Continuous Integration / Continuous Delivery for CDK Applications</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#limitations">Limitations</a></li>
<li class="toctree-l4"><a class="reference internal" href="#getting-started">Getting Started</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#reference">Reference</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#pipelinedeploystackaction">PipelineDeployStackAction</a></li>
<li class="toctree-l4"><a class="reference internal" href="#pipelinedeploystackactionprops-interface">PipelineDeployStackActionProps (interface)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="_aws-cdk_assets.html">&#64;aws-cdk/assets</a></li>
<li class="toctree-l2"><a class="reference internal" href="_aws-cdk_assets-docker.html">AWS CDK Docker Image Assets</a></li>
<li class="toctree-l2"><a class="reference internal" href="_aws-cdk_aws-amazonmq.html">&#64;aws-cdk/aws-amazonmq</a></li>
<li class="toctree-l2"><a class="reference internal" href="_aws-cdk_aws-apigateway.html">&#64;aws-cdk/aws-apigateway</a></li>
<li class="toctree-l2"><a class="reference internal" href="_aws-cdk_aws-applicationautoscaling.html">&#64;aws-cdk/aws-applicationautoscaling</a></li>
<li class="toctree-l2"><a class="reference internal" href="_aws-cdk_aws-appstream.html">&#64;aws-cdk/aws-appstream</a></li>
<li class="toctree-l2"><a class="reference internal" href="_aws-cdk_aws-appsync.html">&#64;aws-cdk/aws-appsync</a></li>
<li class="toctree-l2"><a class="reference internal" href="_aws-cdk_aws-athena.html">&#64;aws-cdk/aws-athena</a></li>
<li class="toctree-l2"><a class="reference internal" href="_aws-cdk_aws-autoscaling.html">&#64;aws-cdk/aws-autoscaling</a></li>
<li class="toctree-l2"><a class="reference internal" href="_aws-cdk_aws-autoscaling-api.html">&#64;aws-cdk/aws-autoscaling-api</a></li>
<li class="toctree-l2"><a class="reference internal" href="_aws-cdk_aws-autoscaling-common.html">&#64;aws-cdk/aws-autoscaling-common</a></li>
<li class="toctree-l2"><a class="reference internal" href="_aws-cdk_aws-autoscalingplans.html">&#64;aws-cdk/aws-autoscalingplans</a></li>
<li class="toctree-l2"><a class="reference internal" href="_aws-cdk_aws-batch.html">&#64;aws-cdk/aws-batch</a></li>
<li class="toctree-l2"><a class="reference internal" href="_aws-cdk_aws-budgets.html">&#64;aws-cdk/aws-budgets</a></li>
<li class="toctree-l2"><a class="reference internal" href="_aws-cdk_aws-certificatemanager.html">&#64;aws-cdk/aws-certificatemanager</a></li>
<li class="toctree-l2"><a class="reference internal" href="_aws-cdk_aws-cloud9.html">&#64;aws-cdk/aws-cloud9</a></li>
<li class="toctree-l2"><a class="reference internal" href="_aws-cdk_aws-cloudformation.html">&#64;aws-cdk/aws-cloudformation</a></li>
<li class="toctree-l2"><a class="reference internal" href="_aws-cdk_aws-cloudfront.html">&#64;aws-cdk/aws-cloudfront</a></li>
<li class="toctree-l2"><a class="reference internal" href="_aws-cdk_aws-cloudtrail.html">&#64;aws-cdk/aws-cloudtrail</a></li>
<li class="toctree-l2"><a class="reference internal" href="_aws-cdk_aws-cloudwatch.html">&#64;aws-cdk/aws-cloudwatch</a></li>
<li class="toctree-l2"><a class="reference internal" href="_aws-cdk_aws-codebuild.html">&#64;aws-cdk/aws-codebuild</a></li>
<li class="toctree-l2"><a class="reference internal" href="_aws-cdk_aws-codecommit.html">&#64;aws-cdk/aws-codecommit</a></li>
<li class="toctree-l2"><a class="reference internal" href="_aws-cdk_aws-codedeploy.html">&#64;aws-cdk/aws-codedeploy</a></li>
<li class="toctree-l2"><a class="reference internal" href="_aws-cdk_aws-codedeploy-api.html">&#64;aws-cdk/aws-codedeploy-api</a></li>
<li class="toctree-l2"><a class="reference internal" href="_aws-cdk_aws-codepipeline.html">&#64;aws-cdk/aws-codepipeline</a></li>
<li class="toctree-l2"><a class="reference internal" href="_aws-cdk_aws-codepipeline-api.html">&#64;aws-cdk/aws-codepipeline-api</a></li>
<li class="toctree-l2"><a class="reference internal" href="_aws-cdk_aws-cognito.html">&#64;aws-cdk/aws-cognito</a></li>
<li class="toctree-l2"><a class="reference internal" href="_aws-cdk_aws-config.html">&#64;aws-cdk/aws-config</a></li>
<li class="toctree-l2"><a class="reference internal" href="_aws-cdk_aws-datapipeline.html">&#64;aws-cdk/aws-datapipeline</a></li>
<li class="toctree-l2"><a class="reference internal" href="_aws-cdk_aws-dax.html">&#64;aws-cdk/aws-dax</a></li>
<li class="toctree-l2"><a class="reference internal" href="_aws-cdk_aws-directoryservice.html">&#64;aws-cdk/aws-directoryservice</a></li>
<li class="toctree-l2"><a class="reference internal" href="_aws-cdk_aws-dlm.html">&#64;aws-cdk/aws-dlm</a></li>
<li class="toctree-l2"><a class="reference internal" href="_aws-cdk_aws-dms.html">&#64;aws-cdk/aws-dms</a></li>
<li class="toctree-l2"><a class="reference internal" href="_aws-cdk_aws-docdb.html">&#64;aws-cdk/aws-docdb</a></li>
<li class="toctree-l2"><a class="reference internal" href="_aws-cdk_aws-dynamodb.html">&#64;aws-cdk/aws-dynamodb</a></li>
<li class="toctree-l2"><a class="reference internal" href="_aws-cdk_aws-ec2.html">&#64;aws-cdk/aws-ec2</a></li>
<li class="toctree-l2"><a class="reference internal" href="_aws-cdk_aws-ecr.html">&#64;aws-cdk/aws-ecr</a></li>
<li class="toctree-l2"><a class="reference internal" href="_aws-cdk_aws-ecs.html">&#64;aws-cdk/aws-ecs</a></li>
<li class="toctree-l2"><a class="reference internal" href="_aws-cdk_aws-efs.html">&#64;aws-cdk/aws-efs</a></li>
<li class="toctree-l2"><a class="reference internal" href="_aws-cdk_aws-eks.html">&#64;aws-cdk/aws-eks</a></li>
<li class="toctree-l2"><a class="reference internal" href="_aws-cdk_aws-elasticache.html">&#64;aws-cdk/aws-elasticache</a></li>
<li class="toctree-l2"><a class="reference internal" href="_aws-cdk_aws-elasticbeanstalk.html">&#64;aws-cdk/aws-elasticbeanstalk</a></li>
<li class="toctree-l2"><a class="reference internal" href="_aws-cdk_aws-elasticloadbalancing.html">&#64;aws-cdk/aws-elasticloadbalancing</a></li>
<li class="toctree-l2"><a class="reference internal" href="_aws-cdk_aws-elasticloadbalancingv2.html">&#64;aws-cdk/aws-elasticloadbalancingv2</a></li>
<li class="toctree-l2"><a class="reference internal" href="_aws-cdk_aws-elasticsearch.html">&#64;aws-cdk/aws-elasticsearch</a></li>
<li class="toctree-l2"><a class="reference internal" href="_aws-cdk_aws-emr.html">&#64;aws-cdk/aws-emr</a></li>
<li class="toctree-l2"><a class="reference internal" href="_aws-cdk_aws-events.html">&#64;aws-cdk/aws-events</a></li>
<li class="toctree-l2"><a class="reference internal" href="_aws-cdk_aws-gamelift.html">&#64;aws-cdk/aws-gamelift</a></li>
<li class="toctree-l2"><a class="reference internal" href="_aws-cdk_aws-glue.html">&#64;aws-cdk/aws-glue</a></li>
<li class="toctree-l2"><a class="reference internal" href="_aws-cdk_aws-guardduty.html">&#64;aws-cdk/aws-guardduty</a></li>
<li class="toctree-l2"><a class="reference internal" href="_aws-cdk_aws-iam.html">&#64;aws-cdk/aws-iam</a></li>
<li class="toctree-l2"><a class="reference internal" href="_aws-cdk_aws-inspector.html">&#64;aws-cdk/aws-inspector</a></li>
<li class="toctree-l2"><a class="reference internal" href="_aws-cdk_aws-iot.html">&#64;aws-cdk/aws-iot</a></li>
<li class="toctree-l2"><a class="reference internal" href="_aws-cdk_aws-iot1click.html">&#64;aws-cdk/aws-iot1click</a></li>
<li class="toctree-l2"><a class="reference internal" href="_aws-cdk_aws-iotanalytics.html">&#64;aws-cdk/aws-iotanalytics</a></li>
<li class="toctree-l2"><a class="reference internal" href="_aws-cdk_aws-kinesis.html">&#64;aws-cdk/aws-kinesis</a></li>
<li class="toctree-l2"><a class="reference internal" href="_aws-cdk_aws-kinesisanalytics.html">&#64;aws-cdk/aws-kinesisanalytics</a></li>
<li class="toctree-l2"><a class="reference internal" href="_aws-cdk_aws-kinesisfirehose.html">&#64;aws-cdk/aws-kinesisfirehose</a></li>
<li class="toctree-l2"><a class="reference internal" href="_aws-cdk_aws-kms.html">&#64;aws-cdk/aws-kms</a></li>
<li class="toctree-l2"><a class="reference internal" href="_aws-cdk_aws-lambda.html">&#64;aws-cdk/aws-lambda</a></li>
<li class="toctree-l2"><a class="reference internal" href="_aws-cdk_aws-lambda-event-sources.html">&#64;aws-cdk/aws-lambda-event-sources</a></li>
<li class="toctree-l2"><a class="reference internal" href="_aws-cdk_aws-logs.html">&#64;aws-cdk/aws-logs</a></li>
<li class="toctree-l2"><a class="reference internal" href="_aws-cdk_aws-neptune.html">&#64;aws-cdk/aws-neptune</a></li>
<li class="toctree-l2"><a class="reference internal" href="_aws-cdk_aws-opsworks.html">&#64;aws-cdk/aws-opsworks</a></li>
<li class="toctree-l2"><a class="reference internal" href="_aws-cdk_aws-opsworkscm.html">&#64;aws-cdk/aws-opsworkscm</a></li>
<li class="toctree-l2"><a class="reference internal" href="_aws-cdk_aws-quickstarts.html">&#64;aws-cdk/aws-quickstarts</a></li>
<li class="toctree-l2"><a class="reference internal" href="_aws-cdk_aws-rds.html">&#64;aws-cdk/aws-rds</a></li>
<li class="toctree-l2"><a class="reference internal" href="_aws-cdk_aws-redshift.html">&#64;aws-cdk/aws-redshift</a></li>
<li class="toctree-l2"><a class="reference internal" href="_aws-cdk_aws-route53.html">&#64;aws-cdk/aws-route53</a></li>
<li class="toctree-l2"><a class="reference internal" href="_aws-cdk_aws-route53resolver.html">&#64;aws-cdk/aws-route53resolver</a></li>
<li class="toctree-l2"><a class="reference internal" href="_aws-cdk_aws-s3.html">&#64;aws-cdk/aws-s3</a></li>
<li class="toctree-l2"><a class="reference internal" href="_aws-cdk_aws-s3-deployment.html">&#64;aws-cdk/aws-s3-deployment</a></li>
<li class="toctree-l2"><a class="reference internal" href="_aws-cdk_aws-s3-notifications.html">&#64;aws-cdk/aws-s3-notifications</a></li>
<li class="toctree-l2"><a class="reference internal" href="_aws-cdk_aws-sagemaker.html">&#64;aws-cdk/aws-sagemaker</a></li>
<li class="toctree-l2"><a class="reference internal" href="_aws-cdk_aws-sdb.html">&#64;aws-cdk/aws-sdb</a></li>
<li class="toctree-l2"><a class="reference internal" href="_aws-cdk_aws-secretsmanager.html">&#64;aws-cdk/aws-secretsmanager</a></li>
<li class="toctree-l2"><a class="reference internal" href="_aws-cdk_aws-serverless.html">&#64;aws-cdk/aws-serverless</a></li>
<li class="toctree-l2"><a class="reference internal" href="_aws-cdk_aws-servicecatalog.html">&#64;aws-cdk/aws-servicecatalog</a></li>
<li class="toctree-l2"><a class="reference internal" href="_aws-cdk_aws-servicediscovery.html">&#64;aws-cdk/aws-servicediscovery</a></li>
<li class="toctree-l2"><a class="reference internal" href="_aws-cdk_aws-ses.html">&#64;aws-cdk/aws-ses</a></li>
<li class="toctree-l2"><a class="reference internal" href="_aws-cdk_aws-sns.html">&#64;aws-cdk/aws-sns</a></li>
<li class="toctree-l2"><a class="reference internal" href="_aws-cdk_aws-sqs.html">&#64;aws-cdk/aws-sqs</a></li>
<li class="toctree-l2"><a class="reference internal" href="_aws-cdk_aws-ssm.html">&#64;aws-cdk/aws-ssm</a></li>
<li class="toctree-l2"><a class="reference internal" href="_aws-cdk_aws-stepfunctions.html">&#64;aws-cdk/aws-stepfunctions</a></li>
<li class="toctree-l2"><a class="reference internal" href="_aws-cdk_aws-waf.html">&#64;aws-cdk/aws-waf</a></li>
<li class="toctree-l2"><a class="reference internal" href="_aws-cdk_aws-wafregional.html">&#64;aws-cdk/aws-wafregional</a></li>
<li class="toctree-l2"><a class="reference internal" href="_aws-cdk_aws-workspaces.html">&#64;aws-cdk/aws-workspaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="_aws-cdk_cdk.html">&#64;aws-cdk/cdk</a></li>
<li class="toctree-l2"><a class="reference internal" href="_aws-cdk_cx-api.html">&#64;aws-cdk/cx-api</a></li>
<li class="toctree-l2"><a class="reference internal" href="_aws-cdk_runtime-values.html">&#64;aws-cdk/runtime-values</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">AWS Cloud Development Kit</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../reference.html">Reference</a> &raquo;</li>
        
      <li>&#64;aws-cdk/app-delivery</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/refs/_aws-cdk_app-delivery.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           ﻿<p style="background-color:#e47911; border-top:1px solid #ccc; margin-top:6px; padding-top:10px; padding-bottom:10px; padding-left:5px; font-weight:bold; font-style:italic; font-size:16px; color:white; vertical-align:middle">
This documentation is for the developer preview release of the AWS CDK.
Do not use this version of the AWS CDK in production.
Subsequent releases of the AWS CDK will likely include breaking changes.
</p>
           <div itemprop="articleBody">
            
  <div class="section" id="aws-cdk-app-delivery">
<h1>&#64;aws-cdk/app-delivery<a class="headerlink" href="#aws-cdk-app-delivery" title="Permalink to this headline">¶</a></h1>
<div class="section" id="continuous-integration-continuous-delivery-for-cdk-applications">
<h2>Continuous Integration / Continuous Delivery for CDK Applications<a class="headerlink" href="#continuous-integration-continuous-delivery-for-cdk-applications" title="Permalink to this headline">¶</a></h2>
<p>This library includes a <em>CodePipeline</em> action for deploying AWS CDK Applications.</p>
<p>This module is part of the <a class="reference external" href="https://github.com/awslabs/aws-cdk">AWS Cloud Development Kit</a> project.</p>
<div class="section" id="limitations">
<h3>Limitations<a class="headerlink" href="#limitations" title="Permalink to this headline">¶</a></h3>
<p>The construct library in it’s current form has the following limitations:</p>
<ol class="arabic simple">
<li>It can only deploy stacks that are hosted in the same AWS account and region as the <em>CodePipeline</em> is.</li>
<li>Stacks that make use of <code class="docutils literal notranslate"><span class="pre">Asset</span></code>s cannot be deployed successfully.</li>
</ol>
</div>
<div class="section" id="getting-started">
<h3>Getting Started<a class="headerlink" href="#getting-started" title="Permalink to this headline">¶</a></h3>
<p>In order to add the <code class="docutils literal notranslate"><span class="pre">PipelineDeployStackAction</span></code> to your <em>CodePipeline</em>, you need to have a <em>CodePipeline</em> artifact that
contains the result of invoking <code class="docutils literal notranslate"><span class="pre">cdk</span> <span class="pre">synth</span> <span class="pre">-o</span> <span class="pre">&lt;dir&gt;</span></code> on your <em>CDK App</em>. You can for example achieve this using a
<em>CodeBuild</em> project.</p>
<p>The example below defines a <em>CDK App</em> that contains 3 stacks:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">CodePipelineStack</span></code> manages the <em>CodePipeline</em> resources, and self-updates before deploying any other stack</li>
<li><code class="docutils literal notranslate"><span class="pre">ServiceStackA</span></code> and <code class="docutils literal notranslate"><span class="pre">ServiceStackB</span></code> are service infrastructure stacks, and need to be deployed in this order</li>
</ul>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span>┏━━━━━━━━━━━━━━━━┓  ┏━━━━━━━━━━━━━━━━┓  ┏━━━━━━━━━━━━━━━━━┓  ┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
┃     Source     ┃  ┃     Build      ┃  ┃  Self-Update    ┃  ┃             Deploy              ┃
┃                ┃  ┃                ┃  ┃                 ┃  ┃                                 ┃
┃ ┌────────────┐ ┃  ┃ ┌────────────┐ ┃  ┃ ┌─────────────┐ ┃  ┃ ┌─────────────┐ ┌─────────────┐ ┃
┃ │   GitHub   ┣━╋━━╋━▶ CodeBuild  ┣━╋━━╋━▶Deploy Stack ┣━╋━━╋━▶Deploy Stack ┣━▶Deploy Stack │ ┃
┃ │            │ ┃  ┃ │            │ ┃  ┃ │PipelineStack│ ┃  ┃ │ServiceStackA│ │ServiceStackB│ ┃
┃ └────────────┘ ┃  ┃ └────────────┘ ┃  ┃ └─────────────┘ ┃  ┃ └─────────────┘ └─────────────┘ ┃
┗━━━━━━━━━━━━━━━━┛  ┗━━━━━━━━━━━━━━━━┛  ┗━━━━━━━━━━━━━━━━━┛  ┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛
</pre></div>
</div>
<div class="section" id="index-ts">
<h4><code class="docutils literal notranslate"><span class="pre">index.ts</span></code><a class="headerlink" href="#index-ts" title="Permalink to this headline">¶</a></h4>
<div class="highlight-ts notranslate"><div class="highlight"><pre><span></span><span class="kr">import</span> <span class="nx">codebuild</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;@aws-cdk/aws-codebuild&#39;</span><span class="p">);</span>
<span class="kr">import</span> <span class="nx">codepipeline</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;@aws-cdk/aws-codepipeline&#39;</span><span class="p">);</span>
<span class="kr">import</span> <span class="nx">cdk</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;@aws-cdk/cdk&#39;</span><span class="p">);</span>
<span class="kr">import</span> <span class="nx">cicd</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;@aws-cdk/cicd&#39;</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">app</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">cdk</span><span class="p">.</span><span class="nx">App</span><span class="p">();</span>

<span class="c1">// We define a stack that contains the CodePipeline</span>
<span class="kr">const</span> <span class="nx">pipelineStack</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">cdk</span><span class="p">.</span><span class="nx">Stack</span><span class="p">(</span><span class="nx">app</span><span class="p">,</span> <span class="s1">&#39;PipelineStack&#39;</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">pipeline</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">codepipeline</span><span class="p">.</span><span class="nx">Pipeline</span><span class="p">(</span><span class="nx">pipelineStack</span><span class="p">,</span> <span class="s1">&#39;CodePipeline&#39;</span><span class="p">,</span> <span class="p">{</span>
  <span class="c1">// Mutating a CodePipeline can cause the currently propagating state to be</span>
  <span class="c1">// &quot;lost&quot;. Ensure we re-run the latest change through the pipeline after it&#39;s</span>
  <span class="c1">// been mutated so we&#39;re sure the latest state is fully deployed through.</span>
  <span class="nx">restartExecutionOnUpdate</span>: <span class="kt">true</span><span class="p">,</span>
  <span class="cm">/* ... */</span>
<span class="p">});</span>
<span class="c1">// Configure the CodePipeline source - where your CDK App&#39;s source code is hosted</span>
<span class="kr">const</span> <span class="nx">source</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">codepipeline</span><span class="p">.</span><span class="nx">GitHubSourceAction</span><span class="p">(</span><span class="nx">pipelineStack</span><span class="p">,</span> <span class="s1">&#39;GitHub&#39;</span><span class="p">,</span> <span class="p">{</span>
  <span class="nx">stage</span>: <span class="kt">pipeline.addStage</span><span class="p">(</span><span class="s1">&#39;source&#39;</span><span class="p">),</span>
  <span class="cm">/* ... */</span>
<span class="p">});</span>
<span class="kr">const</span> <span class="nx">project</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">codebuild</span><span class="p">.</span><span class="nx">PipelineProject</span><span class="p">(</span><span class="nx">pipelineStack</span><span class="p">,</span> <span class="s1">&#39;CodeBuild&#39;</span><span class="p">,</span> <span class="p">{</span>
  <span class="cm">/**</span>
<span class="cm">  * Choose an environment configuration that meets your use case. For NodeJS</span>
<span class="cm">  * this might be</span>
<span class="cm">  * environment: {</span>
<span class="cm">  *  buildImage: codebuild.LinuxBuildImage.UBUNTU_14_04_NODEJS_10_1_0,</span>
<span class="cm">  * },</span>
<span class="cm">  */</span>
<span class="p">});</span>
<span class="kr">const</span> <span class="nx">buildStage</span> <span class="o">=</span> <span class="nx">pipeline</span><span class="p">.</span><span class="nx">addStage</span><span class="p">(</span><span class="s1">&#39;build&#39;</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">buildAction</span> <span class="o">=</span> <span class="nx">project</span><span class="p">.</span><span class="nx">addToPipeline</span><span class="p">(</span><span class="nx">buildStage</span><span class="p">,</span> <span class="s1">&#39;CodeBuild&#39;</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">synthesizedApp</span> <span class="o">=</span> <span class="nx">buildAction</span><span class="p">.</span><span class="nx">outputArtifact</span><span class="p">;</span>

<span class="c1">// Optionally, self-update the pipeline stack</span>
<span class="kr">const</span> <span class="nx">selfUpdateStage</span> <span class="o">=</span> <span class="nx">pipeline</span><span class="p">.</span><span class="nx">addStage</span><span class="p">(</span><span class="s1">&#39;SelfUpdate&#39;</span><span class="p">);</span>
<span class="k">new</span> <span class="nx">cicd</span><span class="p">.</span><span class="nx">PipelineDeployStackAction</span><span class="p">(</span><span class="nx">pipelineStack</span><span class="p">,</span> <span class="s1">&#39;SelfUpdatePipeline&#39;</span><span class="p">,</span> <span class="p">{</span>
  <span class="nx">stage</span>: <span class="kt">selfUpdateStage</span><span class="p">,</span>
  <span class="nx">stack</span>: <span class="kt">pipelineStack</span><span class="p">,</span>
  <span class="nx">inputArtifact</span>: <span class="kt">synthesizedApp</span><span class="p">,</span>
<span class="p">});</span>

<span class="c1">// Now add our service stacks</span>
<span class="kr">const</span> <span class="nx">deployStage</span> <span class="o">=</span> <span class="nx">pipeline</span><span class="p">.</span><span class="nx">addStage</span><span class="p">(</span><span class="s1">&#39;Deploy&#39;</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">serviceStackA</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">MyServiceStackA</span><span class="p">(</span><span class="nx">app</span><span class="p">,</span> <span class="s1">&#39;ServiceStackA&#39;</span><span class="p">,</span> <span class="p">{</span> <span class="cm">/* ... */</span> <span class="p">});</span>
<span class="kr">const</span> <span class="nx">serviceStackB</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">MyServiceStackB</span><span class="p">(</span><span class="nx">app</span><span class="p">,</span> <span class="s1">&#39;ServiceStackB&#39;</span><span class="p">,</span> <span class="p">{</span> <span class="cm">/* ... */</span> <span class="p">});</span>
<span class="c1">// Add actions to deploy the stacks in the deploy stage:</span>
<span class="kr">const</span> <span class="nx">deployServiceAAction</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">cicd</span><span class="p">.</span><span class="nx">PipelineDeployStackAction</span><span class="p">(</span><span class="nx">pipelineStack</span><span class="p">,</span> <span class="s1">&#39;DeployServiceStackA&#39;</span><span class="p">,</span> <span class="p">{</span>
  <span class="nx">stage</span>: <span class="kt">deployStage</span><span class="p">,</span>
  <span class="nx">stack</span>: <span class="kt">serviceStackA</span><span class="p">,</span>
  <span class="nx">inputArtifact</span>: <span class="kt">synthesizedApp</span><span class="p">,</span>
  <span class="c1">// See the note below for details about this option.</span>
  <span class="nx">adminPermissions</span>: <span class="kt">false</span><span class="p">,</span>
<span class="p">});</span>

<span class="c1">// Add the necessary permissions for you service deploy action. This role is</span>
<span class="c1">// is passed to CloudFormation and needs the permissions necessary to deploy</span>
<span class="c1">// stack. Alternatively you can enable [Administrator](https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies_job-functions.html#jf_administrator) permissions above,</span>
<span class="c1">// users should understand the privileged nature of this role.</span>
<span class="nx">deployServiceAAction</span><span class="p">.</span><span class="nx">addToRolePolicy</span><span class="p">(</span>
  <span class="k">new</span> <span class="nx">iam</span><span class="p">.</span><span class="nx">PolicyStatement</span><span class="p">()</span>
    <span class="p">.</span><span class="nx">addAction</span><span class="p">(</span><span class="s1">&#39;service:SomeAction&#39;</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">addResource</span><span class="p">(</span><span class="nx">myResource</span><span class="p">.</span><span class="nx">myResourceArn</span><span class="p">)</span>
    <span class="c1">// add more Action(s) and/or Resource(s) here, as needed</span>
<span class="p">);</span>
<span class="kr">const</span> <span class="nx">deployServiceBAction</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">cicd</span><span class="p">.</span><span class="nx">PipelineDeployStackAction</span><span class="p">(</span><span class="nx">pipelineStack</span><span class="p">,</span> <span class="s1">&#39;DeployServiceStackB&#39;</span><span class="p">,</span> <span class="p">{</span>
  <span class="nx">stage</span>: <span class="kt">deployStage</span><span class="p">,</span>
  <span class="nx">stack</span>: <span class="kt">serviceStackB</span><span class="p">,</span>
  <span class="nx">inputArtifact</span>: <span class="kt">synthesizedApp</span><span class="p">,</span>
  <span class="nx">createChangeSetRunOrder</span>: <span class="kt">998</span><span class="p">,</span>
  <span class="nx">adminPermissions</span>: <span class="kt">true</span><span class="p">,</span> <span class="c1">// no need to modify the role with admin</span>
<span class="p">});</span>
</pre></div>
</div>
</div>
<div class="section" id="buildspec-yml">
<h4><code class="docutils literal notranslate"><span class="pre">buildspec.yml</span></code><a class="headerlink" href="#buildspec-yml" title="Permalink to this headline">¶</a></h4>
<p>The repository can contain a file at the root level named <code class="docutils literal notranslate"><span class="pre">buildspec.yml</span></code>, or
you can in-line the buildspec. Note that <code class="docutils literal notranslate"><span class="pre">buildspec.yaml</span></code> is not compatible.</p>
<p>For example, a <em>TypeScript</em> or <em>Javascript</em> CDK App can add the following <code class="docutils literal notranslate"><span class="pre">buildspec.yml</span></code>
at the root of the repository:</p>
<div class="highlight-yml notranslate"><div class="highlight"><pre><span></span>version: 0.2
phases:
  install:
    commands:
      # Installs the npm dependencies as defined by the `package.json` file
      # present in the root directory of the package
      # (`cdk init app --language=typescript` would have created one for you)
      - npm install
  build:
    commands:
      # Builds the CDK App so it can be synthesized
      - npm run build
      # Synthesizes the CDK App and puts the resulting artifacts into `dist`
      - npm run cdk synth -- -o dist
artifacts:
  # The output artifact is all the files in the `dist` directory
  base-directory: dist
  files: &#39;**/*&#39;
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">PipelineDeployStackAction</span></code> expects it’s <code class="docutils literal notranslate"><span class="pre">inputArtifact</span></code> to contain the result of
synthesizing a CDK App using the <code class="docutils literal notranslate"><span class="pre">cdk</span> <span class="pre">synth</span> <span class="pre">-o</span> <span class="pre">&lt;directory&gt;</span></code>.</p>
</div>
</div>
</div>
<div class="section" id="reference">
<h2>Reference<a class="headerlink" href="#reference" title="Permalink to this headline">¶</a></h2>
<div class="sphinx-tabs docutils container">
<div class="ui top attached tabular menu sphinx-menu docutils container">
<div class="active item sphinx-data-tab-QyM= docutils container">
<div class="docutils container">
C#</div>
</div>
<div class="item sphinx-data-tab-SmF2YQ== docutils container">
<div class="docutils container">
Java</div>
</div>
<div class="item sphinx-data-tab-SmF2YVNjcmlwdA== docutils container">
<div class="docutils container">
JavaScript</div>
</div>
<div class="item sphinx-data-tab-VHlwZVNjcmlwdA== docutils container">
<div class="docutils container">
TypeScript</div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment sphinx-data-tab-QyM= active docutils container">
<p>View in <a class="reference external" href="https://www.nuget.org/packages/Amazon.CDK.AppDelivery/0.23.0">Nuget</a></p>
<p><strong>csproj</strong>:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;PackageReference</span> <span class="na">Include=</span><span class="s">&quot;Amazon.CDK.AppDelivery&quot;</span> <span class="na">Version=</span><span class="s">&quot;0.23.0&quot;</span> <span class="nt">/&gt;</span>
</pre></div>
</div>
<p><strong>dotnet</strong>:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">dotnet add package Amazon.CDK.AppDelivery --version 0.23.0</span>
</pre></div>
</div>
<p><strong>packages.config</strong>:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;package</span> <span class="na">id=</span><span class="s">&quot;Amazon.CDK.AppDelivery&quot;</span> <span class="na">version=</span><span class="s">&quot;0.23.0&quot;</span> <span class="nt">/&gt;</span>
</pre></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment sphinx-data-tab-SmF2YQ== docutils container">
<p>View in <a class="reference external" href="https://repo1.maven.org/maven2/software/amazon/awscdk/cdk-app-delivery/0.23.0/">Maven Central</a></p>
<p><strong>Apache Buildr</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&#39;software.amazon.awscdk:cdk-app-delivery:jar:0.23.0&#39;
</pre></div>
</div>
<p><strong>Apache Ivy</strong>:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;dependency</span> <span class="na">groupId=</span><span class="s">&quot;software.amazon.awscdk&quot;</span> <span class="na">name=</span><span class="s">&quot;cdk-app-delivery&quot;</span> <span class="na">rev=</span><span class="s">&quot;0.23.0&quot;</span><span class="nt">/&gt;</span>
</pre></div>
</div>
<p><strong>Apache Maven</strong>:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;dependency&gt;</span>
  <span class="nt">&lt;groupId&gt;</span>software.amazon.awscdk<span class="nt">&lt;/groupId&gt;</span>
  <span class="nt">&lt;artifactId&gt;</span>cdk-app-delivery<span class="nt">&lt;/artifactId&gt;</span>
  <span class="nt">&lt;version&gt;</span>0.23.0<span class="nt">&lt;/version&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
</pre></div>
</div>
<p><strong>Gradle / Grails</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>compile &#39;software.amazon.awscdk:cdk-app-delivery:0.23.0&#39;
</pre></div>
</div>
<p><strong>Groovy Grape</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>@Grapes(
@Grab(group=&#39;software.amazon.awscdk&#39;, module=&#39;cdk-app-delivery&#39;, version=&#39;0.23.0&#39;)
)
</pre></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment sphinx-data-tab-SmF2YVNjcmlwdA== docutils container">
<p>View in <a class="reference external" href="https://www.npmjs.com/package/&#64;aws-cdk/app-delivery/v/0.23.0">NPM</a></p>
<p><strong>npm</strong>:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> npm i @aws-cdk/app-delivery@0.23.0
</pre></div>
</div>
<p><strong>package.json</strong>:</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;@aws-cdk/app-delivery&quot;</span><span class="o">:</span> <span class="s2">&quot;^0.23.0&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>yarn</strong>:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> yarn add @aws-cdk/app-delivery@0.23.0
</pre></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment sphinx-data-tab-VHlwZVNjcmlwdA== docutils container">
<p>View in <a class="reference external" href="https://www.npmjs.com/package/&#64;aws-cdk/app-delivery/v/0.23.0">NPM</a></p>
<p><strong>npm</strong>:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> npm i @aws-cdk/app-delivery@0.23.0
</pre></div>
</div>
<p><strong>package.json</strong>:</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;@aws-cdk/app-delivery&quot;</span><span class="o">:</span> <span class="s2">&quot;^0.23.0&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>yarn</strong>:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> yarn add @aws-cdk/app-delivery@0.23.0
</pre></div>
</div>
</div>
</div>
<span class="target" id="module-&#64;aws-cdk/app-delivery"></span><div class="section" id="pipelinedeploystackaction">
<h3>PipelineDeployStackAction<a class="headerlink" href="#pipelinedeploystackaction" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="&#64;aws-cdk/app-delivery.PipelineDeployStackAction">
<em class="property">class </em><code class="descclassname">&#64;aws-cdk/app-delivery.</code><code class="descname">PipelineDeployStackAction</code><span class="sig-paren">(</span><em>scope</em>, <em>id</em>, <em>props</em><span class="sig-paren">)</span><a class="headerlink" href="#@aws-cdk/app-delivery.PipelineDeployStackAction" title="Permalink to this definition">¶</a></dt>
<dd><p><strong>Language-specific names:</strong></p>
<div class="sphinx-tabs docutils container">
<div class="ui top attached tabular menu sphinx-menu docutils container">
<div class="active item sphinx-data-tab-QyM= docutils container">
<div class="docutils container">
C#</div>
</div>
<div class="item sphinx-data-tab-SmF2YQ== docutils container">
<div class="docutils container">
Java</div>
</div>
<div class="item sphinx-data-tab-SmF2YVNjcmlwdA== docutils container">
<div class="docutils container">
JavaScript</div>
</div>
<div class="item sphinx-data-tab-VHlwZVNjcmlwdA== docutils container">
<div class="docutils container">
TypeScript</div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment code-tab sphinx-data-tab-QyM= active docutils container">
<div class="highlight-c# notranslate"><div class="highlight"><pre><span></span><span class="k">using</span> <span class="nn">Amazon.CDK.AppDelivery</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment code-tab sphinx-data-tab-SmF2YQ== docutils container">
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">software.amazon.awscdk.appdelivery.PipelineDeployStackAction</span><span class="o">;</span>
</pre></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment code-tab sphinx-data-tab-SmF2YVNjcmlwdA== docutils container">
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kr">const</span> <span class="p">{</span> <span class="nx">PipelineDeployStackAction</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;@aws-cdk/app-delivery&#39;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment code-tab sphinx-data-tab-VHlwZVNjcmlwdA== docutils container">
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="kr">import</span> <span class="p">{</span> <span class="nx">PipelineDeployStackAction</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@aws-cdk/app-delivery&#39;</span><span class="p">;</span>
</pre></div>
</div>
</div>
</div>
<p>A CodePipeline action to deploy a stack that is part of a CDK App. This</p>
<p>action takes care of preparing and executing a CloudFormation ChangeSet.</p>
<p>It currently does <em>not</em> support stacks that make use of <a href="#id2"><span class="problematic" id="id3">``</span></a>Asset``s, and</p>
<p>requires the deployed stack is in the same account and region where the</p>
<p>CodePipeline is hosted.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Extends:</th><td class="field-body"><p class="first"><a class="reference internal" href="_aws-cdk_cdk.html#&#64;aws-cdk/cdk.Construct" title="&#64;aws-cdk/cdk.Construct"><code class="xref py py-class docutils literal notranslate"><span class="pre">&#64;aws-cdk/cdk.Construct</span></code></a></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>scope</strong> (<a class="reference internal" href="_aws-cdk_cdk.html#&#64;aws-cdk/cdk.Construct" title="&#64;aws-cdk/cdk.Construct"><code class="xref py py-class docutils literal notranslate"><span class="pre">&#64;aws-cdk/cdk.Construct</span></code></a>) – </li>
<li><strong>id</strong> (<em>string</em>) – </li>
<li><strong>props</strong> (<a class="reference internal" href="#&#64;aws-cdk/app-delivery.PipelineDeployStackActionProps" title="&#64;aws-cdk/app-delivery.PipelineDeployStackActionProps"><code class="xref py py-class docutils literal notranslate"><span class="pre">PipelineDeployStackActionProps</span></code></a>) – </li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="&#64;aws-cdk/app-delivery.PipelineDeployStackAction.addToDeploymentRolePolicy">
<code class="descname">addToDeploymentRolePolicy</code><span class="sig-paren">(</span><em>statement</em><span class="sig-paren">)</span><a class="headerlink" href="#@aws-cdk/app-delivery.PipelineDeployStackAction.addToDeploymentRolePolicy" title="Permalink to this definition">¶</a></dt>
<dd><p>Add policy statements to the role deploying the stack.</p>
<p>This role is passed to CloudFormation and must have the IAM permissions</p>
<p>necessary to deploy the stack or you can grant this role <cite>adminPermissions</cite></p>
<p>by using that option during creation. If you do not grant</p>
<p><cite>adminPermissions</cite> you need to identify the proper statements to add to</p>
<p>this role based on the CloudFormation Resources in your stack.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>statement</strong> (<a class="reference internal" href="_aws-cdk_aws-iam.html#&#64;aws-cdk/aws-iam.PolicyStatement" title="&#64;aws-cdk/aws-iam.PolicyStatement"><code class="xref py py-class docutils literal notranslate"><span class="pre">&#64;aws-cdk/aws-iam.PolicyStatement</span></code></a>) – </td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="&#64;aws-cdk/app-delivery.PipelineDeployStackAction.validate">
<code class="descname">validate</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; string[]<a class="headerlink" href="#@aws-cdk/app-delivery.PipelineDeployStackAction.validate" title="Permalink to this definition">¶</a></dt>
<dd><p><em>Overrides</em> <a class="reference internal" href="_aws-cdk_cdk.html#&#64;aws-cdk/cdk.Construct.validate" title="&#64;aws-cdk/cdk.Construct.validate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">&#64;aws-cdk/cdk.Construct.validate()</span></code></a></p>
<p>Validate the current construct.</p>
<p>This method can be implemented by derived constructs in order to perform</p>
<p>validation logic. It is called on all constructs before synthesis.</p>
<p><em>Protected method</em></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string[]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="&#64;aws-cdk/app-delivery.PipelineDeployStackAction.deploymentRole">
<code class="descname">deploymentRole</code><a class="headerlink" href="#@aws-cdk/app-delivery.PipelineDeployStackAction.deploymentRole" title="Permalink to this definition">¶</a></dt>
<dd><p>The role used by CloudFormation for the deploy action</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body"><a class="reference internal" href="_aws-cdk_aws-iam.html#&#64;aws-cdk/aws-iam.IRole" title="&#64;aws-cdk/aws-iam.IRole"><code class="xref py py-class docutils literal notranslate"><span class="pre">&#64;aws-cdk/aws-iam.IRole</span></code></a> <em>(readonly)</em></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="&#64;aws-cdk/app-delivery.PipelineDeployStackAction.prepare">
<code class="descname">prepare</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#@aws-cdk/app-delivery.PipelineDeployStackAction.prepare" title="Permalink to this definition">¶</a></dt>
<dd><p><em>Inherited from</em> <a class="reference internal" href="_aws-cdk_cdk.html#&#64;aws-cdk/cdk.Construct.prepare" title="&#64;aws-cdk/cdk.Construct.prepare"><code class="xref py py-meth docutils literal notranslate"><span class="pre">&#64;aws-cdk/cdk.Construct</span></code></a></p>
<p>Perform final modifications before synthesis</p>
<p>This method can be implemented by derived constructs in order to perform</p>
<p>final changes before synthesis. prepare() will be called after child</p>
<p>constructs have been prepared.</p>
<p>This is an advanced framework feature. Only use this if you</p>
<p>understand the implications.</p>
<p><em>Protected method</em></p>
</dd></dl>

<dl class="method">
<dt id="&#64;aws-cdk/app-delivery.PipelineDeployStackAction.toString">
<code class="descname">toString</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; string<a class="headerlink" href="#@aws-cdk/app-delivery.PipelineDeployStackAction.toString" title="Permalink to this definition">¶</a></dt>
<dd><p><em>Inherited from</em> <a class="reference internal" href="_aws-cdk_cdk.html#&#64;aws-cdk/cdk.Construct.toString" title="&#64;aws-cdk/cdk.Construct.toString"><code class="xref py py-meth docutils literal notranslate"><span class="pre">&#64;aws-cdk/cdk.Construct</span></code></a></p>
<p>Returns a string representation of this construct.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="&#64;aws-cdk/app-delivery.PipelineDeployStackAction.dependencyRoots">
<code class="descname">dependencyRoots</code><a class="headerlink" href="#@aws-cdk/app-delivery.PipelineDeployStackAction.dependencyRoots" title="Permalink to this definition">¶</a></dt>
<dd><p><em>Inherited from</em> <a class="reference internal" href="_aws-cdk_cdk.html#&#64;aws-cdk/cdk.Construct.dependencyRoots" title="&#64;aws-cdk/cdk.Construct.dependencyRoots"><code class="xref py py-attr docutils literal notranslate"><span class="pre">&#64;aws-cdk/cdk.Construct</span></code></a></p>
<p>The set of constructs that form the root of this dependable</p>
<p>All resources under all returned constructs are included in the ordering</p>
<p>dependency.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body"><a class="reference internal" href="_aws-cdk_cdk.html#&#64;aws-cdk/cdk.IConstruct" title="&#64;aws-cdk/cdk.IConstruct"><code class="xref py py-class docutils literal notranslate"><span class="pre">&#64;aws-cdk/cdk.IConstruct</span></code></a>[] <em>(readonly)</em></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="&#64;aws-cdk/app-delivery.PipelineDeployStackAction.node">
<code class="descname">node</code><a class="headerlink" href="#@aws-cdk/app-delivery.PipelineDeployStackAction.node" title="Permalink to this definition">¶</a></dt>
<dd><p><em>Inherited from</em> <a class="reference internal" href="_aws-cdk_cdk.html#&#64;aws-cdk/cdk.Construct.node" title="&#64;aws-cdk/cdk.Construct.node"><code class="xref py py-attr docutils literal notranslate"><span class="pre">&#64;aws-cdk/cdk.Construct</span></code></a></p>
<p>Construct node.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body"><a class="reference internal" href="_aws-cdk_cdk.html#&#64;aws-cdk/cdk.ConstructNode" title="&#64;aws-cdk/cdk.ConstructNode"><code class="xref py py-class docutils literal notranslate"><span class="pre">&#64;aws-cdk/cdk.ConstructNode</span></code></a> <em>(readonly)</em></td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="pipelinedeploystackactionprops-interface">
<h3>PipelineDeployStackActionProps (interface)<a class="headerlink" href="#pipelinedeploystackactionprops-interface" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="&#64;aws-cdk/app-delivery.PipelineDeployStackActionProps">
<em class="property">class </em><code class="descclassname">&#64;aws-cdk/app-delivery.</code><code class="descname">PipelineDeployStackActionProps</code><a class="headerlink" href="#@aws-cdk/app-delivery.PipelineDeployStackActionProps" title="Permalink to this definition">¶</a></dt>
<dd><p><strong>Language-specific names:</strong></p>
<div class="sphinx-tabs docutils container">
<div class="ui top attached tabular menu sphinx-menu docutils container">
<div class="active item sphinx-data-tab-QyM= docutils container">
<div class="docutils container">
C#</div>
</div>
<div class="item sphinx-data-tab-SmF2YQ== docutils container">
<div class="docutils container">
Java</div>
</div>
<div class="item sphinx-data-tab-SmF2YVNjcmlwdA== docutils container">
<div class="docutils container">
JavaScript</div>
</div>
<div class="item sphinx-data-tab-VHlwZVNjcmlwdA== docutils container">
<div class="docutils container">
TypeScript</div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment code-tab sphinx-data-tab-QyM= active docutils container">
<div class="highlight-c# notranslate"><div class="highlight"><pre><span></span><span class="k">using</span> <span class="nn">Amazon.CDK.AppDelivery</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment code-tab sphinx-data-tab-SmF2YQ== docutils container">
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">software.amazon.awscdk.appdelivery.PipelineDeployStackActionProps</span><span class="o">;</span>
</pre></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment code-tab sphinx-data-tab-SmF2YVNjcmlwdA== docutils container">
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// PipelineDeployStackActionProps is an interface</span>
</pre></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment code-tab sphinx-data-tab-VHlwZVNjcmlwdA== docutils container">
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="kr">import</span> <span class="p">{</span> <span class="nx">PipelineDeployStackActionProps</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@aws-cdk/app-delivery&#39;</span><span class="p">;</span>
</pre></div>
</div>
</div>
</div>
<dl class="attribute">
<dt id="&#64;aws-cdk/app-delivery.PipelineDeployStackActionProps.adminPermissions">
<code class="descname">adminPermissions</code><a class="headerlink" href="#@aws-cdk/app-delivery.PipelineDeployStackActionProps.adminPermissions" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether to grant admin permissions to CloudFormation while deploying this template.</p>
<p>Setting this to <cite>true</cite> affects the defaults for <cite>role</cite> and <cite>capabilities</cite>, if you</p>
<p>don’t specify any alternatives.</p>
<p>The default role that will be created for you will have admin (i.e., <cite>*</cite>)</p>
<p>permissions on all resources, and the deployment will have named IAM</p>
<p>capabilities (i.e., able to create all IAM resources).</p>
<p>This is a shorthand that you can use if you fully trust the templates that</p>
<p>are deployed in this pipeline. If you want more fine-grained permissions,</p>
<p>use <cite>addToRolePolicy</cite> and <cite>capabilities</cite> to control what the CloudFormation</p>
<p>deployment is allowed to do.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">boolean</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="&#64;aws-cdk/app-delivery.PipelineDeployStackActionProps.inputArtifact">
<code class="descname">inputArtifact</code><a class="headerlink" href="#@aws-cdk/app-delivery.PipelineDeployStackActionProps.inputArtifact" title="Permalink to this definition">¶</a></dt>
<dd><p>The CodePipeline artifact that holds the synthesized app, which is the</p>
<p>contents of the <code class="docutils literal notranslate"><span class="pre">&lt;directory&gt;</span></code> when running <code class="docutils literal notranslate"><span class="pre">cdk</span> <span class="pre">synth</span> <span class="pre">-o</span> <span class="pre">&lt;directory&gt;</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body"><a class="reference internal" href="_aws-cdk_aws-codepipeline-api.html#&#64;aws-cdk/aws-codepipeline-api.Artifact" title="&#64;aws-cdk/aws-codepipeline-api.Artifact"><code class="xref py py-class docutils literal notranslate"><span class="pre">&#64;aws-cdk/aws-codepipeline-api.Artifact</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="&#64;aws-cdk/app-delivery.PipelineDeployStackActionProps.stack">
<code class="descname">stack</code><a class="headerlink" href="#@aws-cdk/app-delivery.PipelineDeployStackActionProps.stack" title="Permalink to this definition">¶</a></dt>
<dd><p>The CDK stack to be deployed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body"><a class="reference internal" href="_aws-cdk_cdk.html#&#64;aws-cdk/cdk.Stack" title="&#64;aws-cdk/cdk.Stack"><code class="xref py py-class docutils literal notranslate"><span class="pre">&#64;aws-cdk/cdk.Stack</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="&#64;aws-cdk/app-delivery.PipelineDeployStackActionProps.stage">
<code class="descname">stage</code><a class="headerlink" href="#@aws-cdk/app-delivery.PipelineDeployStackActionProps.stage" title="Permalink to this definition">¶</a></dt>
<dd><p>The CodePipeline stage in which to perform the deployment.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body"><a class="reference internal" href="_aws-cdk_aws-codepipeline-api.html#&#64;aws-cdk/aws-codepipeline-api.IStage" title="&#64;aws-cdk/aws-codepipeline-api.IStage"><code class="xref py py-class docutils literal notranslate"><span class="pre">&#64;aws-cdk/aws-codepipeline-api.IStage</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="&#64;aws-cdk/app-delivery.PipelineDeployStackActionProps.capabilities">
<code class="descname">capabilities</code><a class="headerlink" href="#@aws-cdk/app-delivery.PipelineDeployStackActionProps.capabilities" title="Permalink to this definition">¶</a></dt>
<dd><p>Acknowledge certain changes made as part of deployment</p>
<p>For stacks that contain certain resources, explicit acknowledgement that AWS CloudFormation</p>
<p>might create or update those resources. For example, you must specify AnonymousIAM if your</p>
<p>stack template contains AWS Identity and Access Management (IAM) resources. For more</p>
<p>information</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body"><a class="reference internal" href="_aws-cdk_aws-cloudformation.html#&#64;aws-cdk/aws-cloudformation.CloudFormationCapabilities" title="&#64;aws-cdk/aws-cloudformation.CloudFormationCapabilities"><code class="xref py py-class docutils literal notranslate"><span class="pre">&#64;aws-cdk/aws-cloudformation.CloudFormationCapabilities</span></code></a> <em>(optional)</em></td>
</tr>
<tr class="field-even field"><th class="field-name">Default:</th><td class="field-body">AnonymousIAM, unless <cite>adminPermissions</cite> is true</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="&#64;aws-cdk/app-delivery.PipelineDeployStackActionProps.changeSetName">
<code class="descname">changeSetName</code><a class="headerlink" href="#@aws-cdk/app-delivery.PipelineDeployStackActionProps.changeSetName" title="Permalink to this definition">¶</a></dt>
<dd><p>The name to use when creating a ChangeSet for the stack.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">string <em>(optional)</em></td>
</tr>
<tr class="field-even field"><th class="field-name">Default:</th><td class="field-body">CDK-CodePipeline-ChangeSet</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="&#64;aws-cdk/app-delivery.PipelineDeployStackActionProps.createChangeSetRunOrder">
<code class="descname">createChangeSetRunOrder</code><a class="headerlink" href="#@aws-cdk/app-delivery.PipelineDeployStackActionProps.createChangeSetRunOrder" title="Permalink to this definition">¶</a></dt>
<dd><p>The runOrder for the CodePipeline action creating the ChangeSet.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">number <em>(optional)</em></td>
</tr>
<tr class="field-even field"><th class="field-name">Default:</th><td class="field-body">1</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="&#64;aws-cdk/app-delivery.PipelineDeployStackActionProps.executeChangeSetRunOrder">
<code class="descname">executeChangeSetRunOrder</code><a class="headerlink" href="#@aws-cdk/app-delivery.PipelineDeployStackActionProps.executeChangeSetRunOrder" title="Permalink to this definition">¶</a></dt>
<dd><p>The runOrder for the CodePipeline action executing the ChangeSet.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">number <em>(optional)</em></td>
</tr>
<tr class="field-even field"><th class="field-name">Default:</th><td class="field-body"><code class="docutils literal notranslate"><span class="pre">createChangeSetRunOrder</span> <span class="pre">+</span> <span class="pre">1</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="&#64;aws-cdk/app-delivery.PipelineDeployStackActionProps.role">
<code class="descname">role</code><a class="headerlink" href="#@aws-cdk/app-delivery.PipelineDeployStackActionProps.role" title="Permalink to this definition">¶</a></dt>
<dd><p>IAM role to assume when deploying changes.</p>
<p>If not specified, a fresh role is created. The role is created with zero</p>
<p>permissions unless <cite>adminPermissions</cite> is true, in which case the role will have</p>
<p>admin permissions.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body"><a class="reference internal" href="_aws-cdk_aws-iam.html#&#64;aws-cdk/aws-iam.IRole" title="&#64;aws-cdk/aws-iam.IRole"><code class="xref py py-class docutils literal notranslate"><span class="pre">&#64;aws-cdk/aws-iam.IRole</span></code></a> <em>(optional)</em></td>
</tr>
<tr class="field-even field"><th class="field-name">Default:</th><td class="field-body">A fresh role with admin or no permissions (depending on the value of <cite>adminPermissions</cite>).</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="_aws-cdk_assets.html" class="btn btn-neutral float-right" title="@aws-cdk/assets" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="_aws-cdk_alexa-ask.html" class="btn btn-neutral" title="@aws-cdk/alexa-ask" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Amazon Web Services.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.23.0',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="../_static/sphinx_tabs/tabs.js"></script>
      <script type="text/javascript" src="../_static/sphinx_tabs/semantic-ui-2.2.10/tab.min.js"></script>

  

  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>